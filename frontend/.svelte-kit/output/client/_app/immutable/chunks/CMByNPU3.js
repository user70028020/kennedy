import{f as h,a as f}from"./BVSBLeZ4.js";import{p as ge,c as i,d as l,t as H,a as he,h as be,r as n,g as s,j as W,k as _e,n as xe,s as ye,b as S}from"./CyUuy-wj.js";import{d as we,s as g,e as T}from"./Ds7I-RoO.js";import{i as ke}from"./B9KgWSyi.js";import{e as je}from"./D5Lyc911.js";import{r as De,s as G,b as J}from"./BUYgxnM0.js";import{s as Pe}from"./DwPpHslU.js";import{s as z}from"./SJb4weSm.js";import{b as K}from"./c2Jz6SHd.js";import{p as Q}from"./k3Q1lqoc.js";var Me=h('<div class="rounded-xl overflow-hidden transition-all duration-300 animate-in"><div class="relative aspect-video overflow-hidden" style="background-color: var(--bg-tertiary);"><img class="w-full h-full object-contain"/> <div class="absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent opacity-0 hover:opacity-100 transition-opacity duration-300 flex items-end justify-between p-3"><span class="text-white text-xs font-medium truncate max-w-[70%]"> </span> <button type="button" class="p-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors shadow-lg" title="Remover foto"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg></button></div> <div class="absolute top-2 left-2 w-7 h-7 rounded-lg flex items-center justify-center text-xs font-bold text-white" style="background: var(--gradient-primary);"> </div></div> <div class="p-3 space-y-2"><input type="text" class="modern-input text-sm py-2" placeholder="Nome da foto"/> <textarea rows="2" class="modern-textarea text-sm py-2" placeholder="Descrição (opcional)"></textarea></div></div>'),Ae=h('<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"></div>'),Ce=h('<div><div class="flex flex-col items-center justify-center py-12 px-4"><div class="w-16 h-16 rounded-2xl flex items-center justify-center mb-4" style="background-color: var(--bg-tertiary);"><svg class="w-8 h-8" style="color: var(--text-muted);" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg></div> <p class="text-base font-medium mb-1" style="color: var(--text-primary);"> </p> <p class="text-sm" style="color: var(--text-muted);">Arraste e solte ou use os botões acima</p></div></div>'),Le=h('<div class="space-y-4"><div class="flex flex-wrap items-center gap-3"><button type="button" class="btn-modern btn-modern-primary"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg> <span>Selecionar Fotos</span></button> <button type="button" class="btn-modern btn-modern-success"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z"></path></svg> <span>Usar Câmera</span></button> <div class="flex items-center gap-3 ml-auto"><div class="flex items-center gap-2"><div class="w-32 h-2 rounded-full overflow-hidden" style="background-color: var(--bg-tertiary);"><div class="h-full rounded-full transition-all duration-300"></div></div> <span class="text-sm font-medium" style="color: var(--text-secondary);"> </span></div></div></div> <input type="file" accept="image/*" multiple class="hidden"/> <input type="file" accept="image/*" capture="environment" class="hidden"/> <!></div>');function Oe(X,c){ge(c,!0);let o=Q(c,"photos",31,()=>be([])),p=Q(c,"maxPhotos",3,20),b,_,v=ye(!1);function Y(){return`photo_${Date.now()}_${Math.random().toString(36).substring(2,11)}`}async function V(t){const e=t.target,a=e.files;!a||a.length===0||(await I(Array.from(a)),e.value="")}async function I(t){const e=p()-o().length,a=t.slice(0,e);for(const r of a)if(r.type.startsWith("image/"))try{const d=await Z(r),u={id:Y(),data:d,name:r.name,description:""};o([...o(),u])}catch(d){console.error("Error reading file:",d)}c.onchange?.(o())}function Z(t){return new Promise((e,a)=>{const r=new FileReader;r.onload=()=>{const d=r.result;e(d)},r.onerror=a,r.readAsDataURL(t)})}function $(t){o(o().filter(e=>e.id!==t)),c.onchange?.(o())}function ee(t,e){o(o().map(a=>a.id===t?{...a,name:e}:a)),c.onchange?.(o())}function te(t,e){o(o().map(a=>a.id===t?{...a,description:e}:a)),c.onchange?.(o())}function ae(){b.click()}function re(){_.click()}function oe(t){t.preventDefault(),S(v,!0)}function se(){S(v,!1)}async function ne(t){t.preventDefault(),S(v,!1);const e=t.dataTransfer?.files;e&&e.length>0&&await I(Array.from(e))}const N=W(()=>o().length<p()),ie=W(()=>o().length/p()*100);var x=Le(),y=i(x),w=i(y);w.__click=ae;var k=l(w,2);k.__click=re;var R=l(k,2),O=i(R),j=i(O),le=i(j);n(j);var U=l(j,2),de=i(U);n(U),n(O),n(R),n(y);var D=l(y,2);D.__change=V,K(D,t=>b=t,()=>b);var P=l(D,2);P.__change=V,K(P,t=>_=t,()=>_);var ce=l(P,2);{var ve=t=>{var e=Ae();je(e,23,o,a=>a.id,(a,r,d)=>{var u=Me(),M=i(u),A=i(M),C=l(A,2),L=i(C),pe=i(L,!0);n(L);var me=l(L,2);me.__click=()=>$(s(r).id),n(C);var q=l(C,2),fe=i(q,!0);n(q),n(M);var E=l(M,2),m=i(E);De(m),m.__input=F=>ee(s(r).id,F.currentTarget.value);var B=l(m,2);_e(B),B.__input=F=>te(s(r).id,F.currentTarget.value),n(E),n(u),H(()=>{z(u,`background-color: var(--bg-secondary); border: 1px solid var(--border-color); animation-delay: ${s(d)*.05}s;`),G(A,"src",s(r).data),G(A,"alt",s(r).name),g(pe,s(r).name),g(fe,s(d)+1),J(m,s(r).name),J(B,s(r).description||"")}),f(a,u)}),n(e),f(t,e)},ue=t=>{var e=Ce(),a=i(e),r=l(i(a),2),d=i(r,!0);n(r),xe(2),n(a),n(e),H(()=>{Pe(e,1,`relative rounded-xl border-2 border-dashed transition-all duration-300 ${s(v)?"scale-[1.02]":""}`),z(e,`border-color: ${s(v)?"var(--color-primary)":"var(--border-color)"}; background-color: ${s(v)?"rgba(59, 130, 246, 0.05)":"var(--bg-secondary)"};`),g(d,s(v)?"Solte as fotos aqui":"Nenhuma foto adicionada")}),T("dragover",e,oe),T("dragleave",e,se),T("drop",e,ne),f(t,e)};ke(ce,t=>{o().length>0?t(ve):t(ue,!1)})}n(x),H(()=>{w.disabled=!s(N),k.disabled=!s(N),z(le,`width: ${s(ie)??""}%; background: var(--gradient-primary);`),g(de,`${o().length??""}/${p()??""}`)}),f(X,x),he()}we(["click","change","input"]);export{Oe as P};
